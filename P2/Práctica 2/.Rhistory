path = "~/Copy/Informatica/Carrera/3º/2º Cuatrimestre/AA/Prácticas/P2"
#######################################
#Ejercicio 1
#######################################
library(ISLR)
library(MASS)
fix(Weekly)
attach(Weekly)
help(Weekly)
plot(Weekly)
cor(Weekly)
cor()
sumary(Weekly)
summary(Weekly)
confint(Weekly)
confint()
summary(Weekly)
cor(Weekly)
summary(Weekly)
cor(Weekly[,-9])
glm.fit = glm(Direction~Lag1+Lag2+Lag3+Lag4+Lag5+Volume, data = Weekly, family=binomial)
summary(glm.fit)
contrasts(Direction)
glm.pred = rep("Down",1250)
glm.pred[glm.probs >.5]="Up"
glm.pred[glm.probs >.5]="Up"
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",1250)
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction)
dim(Weekly)
dim(Weekly)
contrasts(Direction)
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",1089)
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction)
(54+557)/1089
cor(Weekly[,9])
cor(Weekly[,-9])
plot(Year,Today)
plot(Year,min(Today)
)
row()
row(Today)
row(Weekly)
Year[min(row(Today)]
Year[row(min(Today)]
Year[,row(min(Today)]
which.max(Year)
which.max(Today)
which.min(Today)
Year[which.min(Today)]
plot(Weekly)
contrasts(Direction)
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",1089)
library(ISLR)
library(MASS)
fix(Weekly)
attach(Weekly)
(54+557)/1089 #Calculo del porcentaje de acierto
dim(Weekly)
contrasts(Direction)
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",1089)
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction)
(54+557)/1089 #Calculo del porcentaje de acierto
mean(glm.pred==Direction)
dim(Weekly)
contrasts(Direction)
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",1089)
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction)
contrasts(Direction)
rep("Down",1089)
reg2008 = (Year < 2009)
Weekly.2008= Weekly[!reg2008,]
table(glm.pred,Direction)
mean(glm.pred==Direction)
Direction.2008 = Direction[!reg2008]
glm.fit = glm(Direction.2008~Lag2, data = Weekly.2008, family=binomial)
glm(Direction.2008~Lag2, data = Weekly.2008, family=binomial)
dim(Weekly.2008)
dim(Weekly-Weekly.2008)
dim(Year-reg2008)
dim(Year and !reg2008)
dim(Year-reg2008)
dim(Year)
reg2008 = (Year < 2009)
Weekly.2008= Weekly[reg2008,]
Direction.2008 = Direction[reg2008]
glm.fit = glm(Direction.2008~Lag2, data = Weekly.2008, family=binomial)
Weekly.200910 = Weekly[!reg2008]
Weekly.200910 = Weekly[!reg2008,]
dim(Weekly.200910)
glm.fit = glm(Direction.200910~Lag2, data = Weekly.200910, family=binomial)
Direction.200910 = Direction[!reg2008]
glm.fit = glm(Direction.200910~Lag2, data = Weekly.200910, family=binomial)
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",104)
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction)
table(glm.pred,Direction.200910)
mean(glm.pred==Direction)
table(glm.pred,Direction.200910)
mean(glm.pred==Direction)
dim(Weekly.200910)
(8+57)/104
mean(glm.pred==Direction.200910)
(8+57)/104
lda.fit = lda(Direction.200910~Lag1, data = Weekly.200910, subset = !reg2008 )
lda.fit = lda(Direction.200910~Lag1, data = Weekly.200910)
lda.fit
table(lda.fit,Direction.200910)
glm(Direction.2008~Lag2, data = Weekly.2008, family=binomial)
reg2008 = (Year < 2009)
Weekly.2008= Weekly[reg2008,]
Direction.2008 = Direction[reg2008]
glm(Direction.2008~Lag2, data = Weekly.2008, family=binomial)
lda.fit = lda(Direction.200910~Lag1, data = Weekly.200910)
lda.probs = predict( lda.fit , type ="response")
lda.pred = rep("Down",104)
glm.pred[lda.probs>.5]="Up"
lda.pred[lda.probs>.5]="Up"
lda.fit = lda(Direction.200910~Lag1, data = Weekly.200910)
lda.probs = predict( lda.fit , type ="response")
lda.pred = rep("Down",104)
lda.pred[lda.probs>.5]="Up"
glm(Direction.2008~Lag2, data = Weekly.2008, family=binomial)
table(glm.pred,Direction.2008)
reg2008 = (Year < 2009)
Weekly.2008= Weekly[reg2008,]
Direction.2008 = Direction[reg2008]
glm(Direction.2008~Lag2, data = Weekly.2008, family=binomial)
table(glm.pred,Direction.2008)
reg2008 = (Year < 2009)
Weekly.2008= Weekly[reg2008,]
Direction.2008 = Direction[reg2008]
glm(Direction.2008~Lag2, data = Weekly.2008, family=binomial)
Weekly.200910 = Weekly[!reg2008,]
dim(Weekly.200910)
Direction.200910 = Direction[!reg2008]
glm.fit = glm(Direction.200910~Lag2, data = Weekly.200910, family=binomial)
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",104)
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction.200910)
mean(glm.pred==Direction.200910)
(8+57)/104
lda.fit = lda(Direction.200910~Lag1, data = Weekly.200910)
lda.probs = predict( lda.fit , type ="response")
lda.pred = rep("Down",104)
lda.pred[lda.probs>.5]="Up"
lda.fit = lda(Direction.200910~Lag1, data = Weekly.200910)
lda.pred = predict(lda.fit,Weekly.200910)
lda.class = lda.pred$class
table(lda.class,Direction.200910)
mean(lda.class == Direction.200910)
qda.fit = qda ( Direction.200910~Lag1, data =  Weekly.200910)
qda.class = predict(qda.fit,Weekly.200910)$class
table(qda.class,Direction.200910)
mean(qda.class == Direction.200910)
reg2008 = (Year < 2009)
Weekly.2008= Weekly[reg2008,]
Direction.2008 = Direction[reg2008]
glm.fit = glm(Direction.2008~Lag2, data = Weekly.2008, family=binomial)
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",104)
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction.2008)
0
0
0
0
0
0
reg2008 = (Year < 2009)
Weekly.2008= Weekly[reg2008,]
Direction.2008 = Direction[reg2008]
glm.fit = glm(Direction.2008~Lag2, data = Weekly.2008, family=binomial)
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",104)
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction.2008)
mean(glm.pred==Direction.2008)
dim(Weekly.2008)
2
2
2
Direction.2008 = Direction[reg2008]
glm.fit = glm(Direction.2008~Lag2, data = Weekly.2008, family=binomial)
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",985)
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction.2008)
mean(glm.pred==Direction.2008)
Weekly.200910 = Weekly[!reg2008,]
dim(Weekly.200910)
Direction.200910 = Direction[!reg2008]
glm.fit = glm(Direction.200910~Lag2, data = Weekly.200910, family=binomial)
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",104)
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction.200910)
(8+57)/104
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction.2008)
dim(Weekly.200910)
Direction.200910 = Direction[!reg2008]
glm.fit = glm(Direction.200910~Lag2, data = Weekly.200910, family=binomial)
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",104)
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction.200910)
(8+57)/104
#Apartado 3
#la suma de su diagonal nos dice cuanto he acertado del total. Nos dice lo que nos confundimos entre una clase y otra clase
dim(Weekly)
contrasts(Direction)
glm.probs = predict( glm.fit , type ="response")
glm.pred = rep("Down",1089)
glm.pred[glm.probs>.5]="Up"
table(glm.pred,Direction)
path = "~/Copy/Informatica/Carrera/3º/2º Cuatrimestre/AA/Prácticas/P2"
#######################################
#Ejercicio 1
#######################################
library(ISLR)
library(MASS)
fix(Weekly)
attach(Weekly)
# Apartado 1: #med, desv tipica, percentiles...
plot(Weekly)
summary(Weekly)
cor(Weekly[,-9])
Year[which.min(Today)]
# Apartado 2
glm.fit = glm(Direction~Lag1+Lag2+Lag3+Lag4+Lag5+Volume, data = Weekly, family=binomial)
summary(glm.fit)
predict( glm.fit , type ="response")
glm(Direction.2008~Lag2, data = Weekly.2008, family=binomial)
glm(Direction.200910~Lag2, data = Weekly.200910, family=binomial)
glm(Direction~Lag1+Lag2+Lag3+Lag4+Lag5+Volume, data = Weekly, family=binomial)
path = "~/Copy/Informatica/Carrera/3º/2º Cuatrimestre/AA/Prácticas/P1/datos"
#######################################
#Ejercicio 1
#######################################
library(ISLR)
library(MASS)
fix(Boston)
attach(Boston)
#2.
plot(black,crim) #criminialidad vs negro
plot(age,tax) #edad vs valor de vivivienda/10.000
plot(nox,indus) #oxigeno e industria
#3.
#miramos el p valor y el coeficiente de correlacion
summary(lm(crim~Boston[[2]]))
summary(lm(crim~Boston[[3]]))
summary(lm(crim~Boston[[4]]))
summary(lm(crim~Boston[[5]]))
summary(lm(crim~Boston[[6]]))
summary(lm(crim~Boston[[7]]))
summary(lm(crim~Boston[[8]]))
summary(lm(crim~Boston[[9]]))
summary(lm(crim~Boston[[10]]))
summary(lm(crim~Boston[[11]]))
summary(lm(crim~Boston[[12]]))
summary(lm(crim~Boston[[13]]))
summary(lm(crim~Boston[[14]]))
cor(Boston)
plot(ptratio,crim)
#4
#a)
plot(crim)
summary(lm(crim~Boston[[6]]))
sd(Boston[[6]])
#iii)
plot(lm(crim~Boston[[6]]))
glm.fit = glm(Direction~Lag1+Lag2+Lag3+Lag4+Lag5+Volume, data = Weekly, family=binomial)
summary(glm.fit)
path = "~/Copy/Informatica/Carrera/3º/2º Cuatrimestre/AA/Prácticas/P2"
#######################################
#Ejercicio 1
#######################################
library(ISLR)
library(MASS)
fix(Weekly)
fix(Weekly)
attach(Weekly)
help(Weekly)
install.packages("ISLR")
help(Weekly)
library(ISLR)
help(Weekly)
